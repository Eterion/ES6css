// This function is internal, and is intentionaly not documented. Extends
// already existing item $name and returns a map of properties. Throws an error
// if the requested item does not exists.

@function extend($name, $props, $group: if(global-variable-exists(export-group), $export-group, $system-default-group)) {

  // not found
  @if(map-has-key($system-export, compute-key($name, $group)) == false) {
    @error err('key-not-found', compute-key($name, $group), '(extend)', map-keys($system-export));
  }

  // extend definition
  @return map-merge($system-export, (
    '#{compute-key($name, $group)}': map-merge(import($name, $group), $props),
  ));

}
