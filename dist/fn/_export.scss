// Private functions are intentionally left out of documentation.
// Creates a new definition and returns complete data map. Throws an error if definition with provided **$name** already exists in provided **$group**, to prevent duplicates.
// @access private
// @param {string} $name - Name.
// @param {bool|map} $props [false] - Map of properties.
// @param {string} $group [$export-group] - Group identifier.
// @param {map} $defaults [$export-defaults] - Map of default properties.

@function export($name, $props: false, $group: $export-group, $defaults: $export-defaults) {

  // already exists
  @if(map-has-key($system-export, compute-key($name, $group))) {
    @error err('key-exists', compute-key($name, $group), '(export)');
  }

  // defaults
  $props: map-merge($export-defaults, if($props != false, $props, ()));

  // add new export
  @return map-merge($system-export, (

    // sass-lint:disable-block indentation
    // indentation is disabled because of a known bug with maps
    // https://github.com/sasstools/sass-lint/issues/927
    // -----

    '#{compute-key($name, $group)}': map-merge($props, (
      'name': compute-key($name, $group),
      'selector': call(if(map-key-get($props, unique), 'id', 'class'), compute-key($name, $group)),
      'z-index': '#{$group}-#{$name}',
    )),

  ));

}
