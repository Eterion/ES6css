/// Returns a value from source **map** based on **key**. This function is only
/// a wrapper function around the native
/// [map-get](http://sass-lang.com/documentation/Sass/Script/Functions.html#map_get-instance_method)
/// function, with support of `inherit` value and error handling.
/// @access private
/// @param {map} $map - Source map
/// @param {string} $key - Map key
/// @param {boolean} $can-inherit [false] - Allows use of `inherit` value

@function map-key-get($map, $key, $can-inherit: false) {
  // not string
  @if (type-of($key) != 'string') {
    @return false;
  }

  // inherit
  @if ($can-inherit and $key == 'inherit') {
    @return inherit;
  }

  // not found
  @if (map-has-key($map, $key) == false) {
    @error err('key-not-found', $key, '(map-key-get)', map-keys($map));
  }

  @return map-get($map, $key);
}
